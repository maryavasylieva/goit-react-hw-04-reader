{"version":3,"sources":["components/Reader.module.css","components/Publication/Publication.js","components/Counter/Counter.js","components/Controls/Controls.js","components/Reader.js","App.js","index.js"],"names":["module","exports","reader","publication","counter","controls","button","Publication","_ref","react_default","a","createElement","className","styles","title","text","Counter","count","items","Fragment","length","Controls","handleChange","disabledNext","disabledBack","type","name","onClick","e","disabled","defaultProps","getLocation","location","Math","floor","Number","queryString","parse","search","item","Reader","target","_this$props","_this","props","history","searchItem","push","Object","objectSpread","concat","_this$props2","this","publications","replace","_this$props3","index","components_Publication_Publication","components_Counter_Counter","components_Controls_Controls","Component","App","react_router","path","component","from","to","ReactDOM","render","react_router_dom","document","getElementById"],"mappings":"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","file":"static/js/main.8f893761.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader___6xgS\",\"publication\":\"Reader_publication__3LYwQ\",\"counter\":\"Reader_counter__3Tk19\",\"controls\":\"Reader_controls__TLh07\",\"button\":\"Reader_button__23j4k\"};","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport styles from '../Reader.module.css';\n\nconst Publication = ({ publication }) => (\n  <article className={styles.publication}>\n    <h2 className={styles.title}>{publication.title}</h2>\n    <p className={styles.text}>{publication.text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  publication: PropTypes.objectOf(PropTypes.string.isRequired).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport styles from '../Reader.module.css';\n\nconst Counter = ({ count, items }) => (\n  <>\n    <p className={styles.counter}>\n      {count} / {items.length}\n    </p>\n  </>\n);\n\nCounter.propTypes = {\n  count: PropTypes.number.isRequired,\n  items: PropTypes.instanceOf(Array).isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../Reader.module.css';\n\nconst Controls = ({\n  handleChange,\n\n  disabledNext,\n  disabledBack,\n}) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      name=\"back\"\n      className={styles.button}\n      onClick={e => handleChange(e)}\n      disabled={disabledBack}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      name=\"forward\"\n      className={styles.button}\n      onClick={e => handleChange(e)}\n      disabled={disabledNext}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.defaultProps = {\n  disabledNext: false,\n  disabledBack: false,\n};\n\nControls.propTypes = {\n  disabledNext: PropTypes.bool,\n  disabledBack: PropTypes.bool,\n  handleChange: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport styles from './Reader.module.css';\nimport Publication from './Publication/Publication';\nimport Counter from './Counter/Counter';\nimport Controls from './Controls/Controls';\nimport publications from '../assets/publication.json';\n\nconst PAGE = 1;\n\nconst getLocation = location =>\n  Math.floor(Number(queryString.parse(location.search).item));\n\nclass Reader extends Component {\n  static propTypes = {\n    location: ReactRouterPropTypes.location.isRequired,\n    history: ReactRouterPropTypes.history.isRequired,\n  };\n\n  componentDidMount() {\n    const { location, history } = this.props;\n    const searchItem = getLocation(location);\n\n    if (searchItem > publications.length || searchItem < 1 || !searchItem) {\n      return history.replace({\n        ...location,\n        search: `item=${PAGE}`,\n      });\n    }\n\n    return history.push({\n      ...location,\n      search: `item=${searchItem}`,\n    });\n  }\n\n  componentDidUpdate() {\n    const { location, history } = this.props;\n    const searchItem = getLocation(location);\n\n    if (searchItem > publications.length || searchItem < 1 || !searchItem) {\n      history.replace({\n        ...location,\n        search: `item=${PAGE}`,\n      });\n    }\n  }\n\n  handleChange = ({ target: { name } }) => {\n    const { location, history } = this.props;\n    const searchItem = getLocation(location);\n\n    if (name === 'forward') {\n      history.push({ ...location, search: `item=${searchItem + 1}` });\n    }\n\n    if (name === 'back') {\n      history.push({ ...location, search: `item=${searchItem - 1}` });\n    }\n  };\n\n  render() {\n    const { location } = this.props;\n    const searchItem = getLocation(location);\n    const index =\n      searchItem > publications.length || searchItem < 1 || !searchItem\n        ? PAGE\n        : searchItem;\n    const publication = publications[index - 1];\n\n    return (\n      <div className={styles.reader}>\n        <Publication publication={publication} />\n        <Counter items={publications} count={index} />\n        <Controls\n          disabledNext={index === publications.length}\n          disabledBack={index === PAGE}\n          handleChange={this.handleChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Reader;\n","import React from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\n\nimport Reader from './components/Reader';\n\nconst App = () => (\n  <Switch>\n    <Route path=\"/reader\" component={Reader} />\n    <Redirect from=\"/*\" to=\"/reader\" />\n  </Switch>\n);\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport App from './App';\nimport './styles.css';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Route component={App} />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}